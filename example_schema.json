{
    "type": "object",
    "title": "Enchantment",
    "properties": {
        "description": {
            "type": "string",
            "title": "Description",
            "description": "Text component describing the enchantment"
        },
        "exclusive_set": {
            "type": "array",
            "title": "Exclusive Set",
            "description": "List of enchantments that cannot be combined with this one",
            "items": {
                "type": "string",
                "enumSource": "enchantments"
            }
        },
        "supported_items": {
            "type": "array",
            "title": "Supported Items",
            "description": "Items that can receive this enchantment",
            "items": {
                "type": "string",
                "enumSource": "items"
            }
        },
        "primary_items": {
            "type": "array",
            "title": "Primary Items",
            "description": "Items for which this is a primary enchantment",
            "items": {
                "type": "string",
                "enumSource": "items"
            }
        },
        "weight": {
            "type": "integer",
            "title": "Weight",
            "description": "Probability weight for random enchanting",
            "minimum": 1,
            "maximum": 1024,
            "default": 1
        },
        "max_level": {
            "type": "integer",
            "title": "Max Level",
            "description": "Maximum enchantment level",
            "minimum": 1,
            "maximum": 255,
            "default": 1
        },
        "min_cost": {
            "type": "object",
            "title": "Minimum Cost",
            "description": "Minimum experience cost for enchanting",
            "properties": {
                "base": {
                    "type": "integer",
                    "title": "Base Cost",
                    "minimum": 0,
                    "maximum": 20000,
                    "default": 1
                },
                "per_level_above_first": {
                    "type": "integer",
                    "title": "Per Level Above First",
                    "minimum": 0,
                    "maximum": 20000,
                    "default": 1
                }
            },
            "required": ["base", "per_level_above_first"]
        },
        "max_cost": {
            "type": "object",
            "title": "Maximum Cost",
            "description": "Maximum experience cost for enchanting",
            "properties": {
                "base": {
                    "type": "integer",
                    "title": "Base Cost",
                    "minimum": 0,
                    "maximum": 20000,
                    "default": 1
                },
                "per_level_above_first": {
                    "type": "integer",
                    "title": "Per Level Above First",
                    "minimum": 0,
                    "maximum": 20000,
                    "default": 1
                }
            },
            "required": ["base", "per_level_above_first"]
        },
        "anvil_cost": {
            "type": "integer",
            "title": "Anvil Cost",
            "description": "Experience cost multiplier for anvil operations",
            "minimum": 0,
            "maximum": 20000,
            "default": 1
        },
        "slots": {
            "type": "array",
            "title": "Equipment Slots",
            "description": "Valid equipment slots for this enchantment",
            "items": {
                "type": "string",
                "enum": [
                    "any",
                    "hand",
                    "mainhand", 
                    "offhand",
                    "armor",
                    "feet",
                    "legs", 
                    "chest",
                    "head",
                    "body"
                ]
            }
        },
        "effects": {
            "type": "object",
            "title": "Effects",
            "description": "Map of effect components by type",
            "properties": {
                "^.*$": {
                    "oneOf": [
                        
                    ]
                }
            }
        }
    },
    "definitions": {
        "entityEffects": {
            "title": "Entity Effects",
            "description": "Affect entities by an enchantment component.",
            "oneOf": [
                {
                    "type": "object",
                    "title": "All Of",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:all_of"
                        },
                        "effects": {
                            "$ref": "#/definitions/entityEffects"
                        }
                    }
                },
                {
                    "type": "object",
                    "title": "Apply Mob Effect",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:apply_mob_effect"
                        },
                        "to_apply": {
                            "type": "array",
                            "title": "To Apply",
                            "items": {
                                "type": "string",
                                "enumSource": "effects"
                                }
                        },
                        "min_duration": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "max_duration": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "min_amplifier": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "max_amplifier": {
                            "$ref": "#/definitions/levelBasedValue"
                        }
                    }
                },
                {
                    "type": "object",
                    "title": "Damage Entity",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:damage_entity"
                        },
                        "damage_type": {
                            "type": "string",
                            "title": "Damage Type",
                            "enumSource": "damage_types"
                        },
                        "min_damage": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "max_damage": {
                            "$ref": "#/definitions/levelBasedValue"
                        }
                    }
                },
                {
                    "type": "object",
                    "title": "Change Item Damage",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:change_item_damage"
                        },
                        "amount": {
                            "$ref": "#/definitions/levelBasedValue"
                        }
                    }
                },
                {
                    "type": "object",
                    "title": "Explode",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:explode"
                        },
                        "attribute_to_user": {
                            "type": "boolean",
                            "title": "Attribute To User"
                        },
                        "damage_type": {
                            "type": "string",
                            "title": "Damage Type",
                            "enumSource": "damage_types"
                        },
                        "immune_blocks": {
                            "type": "array",
                            "title": "Immune Blocks",
                            "items": {
                                "type": "string",
                                "enumSource": "blocks"
                            }
                        },
                        "knockback_multiplier": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "offset": {
                            "type": "object",
                            "title": "Offset",
                            "properties": {
                                "floatx": {
                                    "type": "number"
                                },
                                "floaty": {
                                    "type": "number"
                                },
                                "floatz": {
                                    "type": "number"
                                }
                            }
                        },
                        "radius": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "create_fire": {
                            "type": "boolean",
                            "title": "Create Fire"
                        },
                        "block_interaction": {
                            "type": "string",
                            "title": "Block Interaction",
                            "enum": [
                                "none",
                                "block",
                                "mob",
                                "tnt",
                                "trigger"
                            ]
                        },
                        "small_particle": {

                        },
                        "large_particle": {

                        },
                        "sound": {
                            "type": "string",
                            "title": "Sound Event",
                            "enumSource": "sound_events"
                        }
                    }
                }
            ]
        },
        "levelBasedValue": {
            "title": "Level Based Value",
            "description": "A value that can be constant or vary based on enchantment level",
            "oneOf": [
                {
                    "type": "number",
                    "title": "Constant"
                },
                {
                    "type": "object",
                    "title": "Linear",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:linear"
                        },
                        "base": {
                            "type": "number",
                            "title": "Base Value"
                        },
                        "per_level_above_first": {
                            "type": "number", 
                            "title": "Per Level Above First"
                        }
                    },
                    "required": ["mctype", "base", "per_level_above_first"]
                },
                {
                    "type": "object",
                    "title": "Levels Squared",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:levels_squared"
                        },
                        "added": {
                            "type": "number",
                            "title": "Added Value",
                            "default": 0
                        }
                    },
                    "required": ["mctype"]
                },
                {
                    "type": "object",
                    "title": "Clamped",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:clamped"
                        },
                        "value": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "min": {
                            "type": "number",
                            "title": "Minimum Value"
                        },
                        "max": {
                            "type": "number",
                            "title": "Maximum Value"
                        }
                    },
                    "required": ["mctype", "value", "min", "max"]
                },
                {
                    "type": "object",
                    "title": "Fraction",
                    "properties": {
                        "mctype": {
                            "type": "string",
                            "const": "minecraft:fraction"
                        },
                        "numerator": {
                            "$ref": "#/definitions/levelBasedValue"
                        },
                        "denominator": {
                            "$ref": "#/definitions/levelBasedValue"
                        }
                    },
                    "required": ["mctype", "numerator", "denominator"]
                },
                {
                    "type": "object",
                    "title": "Lookup Table",
                    "properties": {
                        "type": {
                            "type": "string",
                            "const": "minecraft:lookup"
                        },
                        "values": {
                            "type": "array",
                            "title": "Values by Level",
                            "items": {
                                "type": "number"
                            }
                        },
                        "fallback": {
                            "$ref": "#/definitions/levelBasedValue"
                        }
                    },
                    "required": ["type", "values"]
                }
            ]
        }
    }
}